<!DOCTYPE html>
<html>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>

<head>
    <title>LED Controller</title>
    <link href='https://fonts.googleapis.com/css2?family=Comfortaa&display=swap' rel='stylesheet'>
    <style>
        body {
            font-family: 'Comfortaa', cursive;
            background-color: #cccccc;
            Color: #000088;
        }

        h1 {
            font-size: 10vw;
            margin-top: 1vw;
            margin-bottom: 1vw;
        }

        h3 {
            font-size: 6vw;
            margin-bottom: 1vw;
        }

        select {
            width: min(75vw, 600px);
            font-size: min(6vw, 30px);
        }
    </style>
</head>

<body>
    <h3><i>Forrest and Brian's</i></h3>
    <h1>LED Controller</h1>
    <center>
        <select onchange='change()'>
            %%%OPTIONS%%%
        </select>
        <div id='s'></div>
    </center>
</body>
<script>
    var newData = false;
    setInterval(send, 100);
    const inputs;
    const s = document.getElementsByTagName('select')[0];
    s.selectedIndex = %i;
    document.getElementById('s').innerHTML = inputs[s.options[s.selectedIndex].text][0];
    function change() {
        document.getElementById('s').innerHTML = inputs[s.options[s.selectedIndex].text][0];
        u();
    }
    function u() { newData = true; }
    function send() {
        if (newData) {
            var xmlHttp = new XMLHttpRequest();
            params = {};
            for (i = 0; i < inputs[s.options[s.selectedIndex].text][1]; i++) {
                params['p' + i] = document.getElementById('' + i).value;
            }
            xmlHttp.open('GET', '/set?s=' + s.selectedIndex + '&' + new URLSearchParams(params).toString(), true);
            xmlHttp.send(null);
            newData = false;
        }
    }
</script>
</html>